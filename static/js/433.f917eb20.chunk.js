"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[433],{1433:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(885),a=t(9434),s=t(2791),o=t(3634),i=t(6916),c=function(e){return e.contacts.items},u=function(e){return e.contacts.isLoading},l=function(e){return e.contacts.error},m=function(e){return e.filter},d=(0,i.P1)([c,m],(function(e,n){return e.filter((function(e){return e.name.toLocaleLowerCase().includes(n)}))})),h=t(1538),x=t(5705),f=t(7103),b=f.Ry().shape({name:f.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagna").min(5,"To short. Minimum 5 letters").max(30,"To long. Maximum 30 letters").required(),number:f.Z_().trim().min(8,"To short. Minimum 8 digits").max(30,"To long. Maximum 30 digits").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),p=t(228),v=t(8778),j=t(7924),g=t(7205),Z=t(3329),C={name:"",number:""};function y(){var e=(0,a.I0)(),n=(0,x.TA)({initialValues:C,validationSchema:b,onSubmit:function(n,t){var r=n.name,a=n.number,s=t.resetForm;e((0,o.uK)({name:r,number:a})),s()}});return(0,Z.jsx)("form",{onSubmit:n.handleSubmit,children:(0,Z.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column",m:"20px 0",gap:3},children:[(0,Z.jsxs)(p.Z,{sx:{position:"reletive"},children:[(0,Z.jsx)(v.Z,{name:"name",id:"name",label:"Name",value:n.values.name,onChange:n.handleChange,autoComplete:"off",size:"small",fullWidth:!0,error:n.touched.name&&Boolean(n.errors.name)}),(0,Z.jsx)(j.Z,{error:!0,sx:{position:"absolute"},children:n.touched.name&&n.errors.name})]}),(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(v.Z,{type:"tel",name:"number",id:"number",label:"Number",value:n.values.number,onChange:n.handleChange,autoComplete:"off",size:"small",fullWidth:!0,error:n.touched.number&&Boolean(n.errors.number)}),(0,Z.jsx)(j.Z,{error:!0,sx:{position:"absolute"},children:n.touched.number&&n.errors.number})]}),(0,Z.jsx)(g.Z,{type:"submit",variant:"outlined",size:"small",children:"Add contact"})]})})}var w=t(4808);function _(){var e=(0,a.I0)(),n=(0,a.v9)(m);return(0,Z.jsx)(v.Z,{label:"search",variant:"standard",fullWidth:!0,type:"search",value:n,onChange:function(n){e((0,w.M)(n.target.value))},sx:{mb:2}})}var k=t(4565),z=t(3811),T=t(6053),A=t(2601);function I(e){var n=e.contact,t=n.id,r=n.name,s=n.number,i=(0,a.I0)();return(0,Z.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,Z.jsxs)(k.Z,{sx:{display:"flex",alignItems:"center",minWidth:240},children:[(0,Z.jsx)(T.Z,{sx:{mr:1}})," ",r]}),(0,Z.jsx)(k.Z,{sx:{flexGrow:1},children:s}),(0,Z.jsx)(z.Z,{type:"button",onClick:function(){return e=t,void i((0,o.GK)(e));var e},size:"small",children:(0,Z.jsx)(A.Z,{})})]})}function S(){var e=(0,a.v9)(d);return(0,Z.jsx)("ul",{children:e.map((function(e){return(0,Z.jsx)("li",{children:(0,Z.jsx)(I,{contact:e})},e.id)}))})}var M=t(1918);function W(){var e=(0,a.I0)(),n=(0,a.v9)(u),t=(0,a.v9)(l),i=(0,a.v9)(c),m=(0,s.useRef)(0),d=(0,s.useState)(""),x=(0,r.Z)(d,2),f=x[0],b=x[1],v=(0,s.useState)("info"),j=(0,r.Z)(v,2),g=j[0],C=j[1],w=(0,s.useState)(!1),z=(0,r.Z)(w,2),T=z[0],A=z[1];return(0,s.useEffect)((function(){0!==m.current?(i.length>m.current&&(C("info"),b("One contact was added. There are ".concat(i.length," contacts in phonebook now.")),A(!0)),i.length<m.current&&(C("warning"),b("One contact was deleted, ".concat(i.length," contacts left.")),A(!0)),m.current=i.length):m.current=i.length}),[i]),(0,s.useEffect)((function(){e((0,o.yF)())}),[e]),(0,Z.jsxs)(p.Z,{sx:{maxWidth:500,m:"0 auto"},children:[(0,Z.jsx)(k.Z,{variant:"h4",component:"h1",align:"center",children:"Phonebook"}),(0,Z.jsx)(y,{}),(0,Z.jsx)(k.Z,{variant:"h5",component:"h2",align:"center",children:"Contacts:"}),(0,Z.jsx)(_,{}),t?(0,Z.jsx)(M.Bc,{error:t,setError:h.s}):(0,Z.jsx)(S,{}),n&&(0,Z.jsx)(M.aN,{}),(0,Z.jsx)(M.P_,{open:T,setIsToastOpen:A,text:f,toastType:g})]})}}}]);
//# sourceMappingURL=433.f917eb20.chunk.js.map